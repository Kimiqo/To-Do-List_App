(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();let g={tasks:[],folders:[]};function N(e=[],s=[]){const n=JSON.parse(localStorage.getItem("tasks")||"[]"),d=JSON.parse(localStorage.getItem("folders")||"[]");g.tasks=n.length>0?n:e,g.folders=d.length>0?d:s,localStorage.setItem("tasks",JSON.stringify(g.tasks)),localStorage.setItem("folders",JSON.stringify(g.folders))}function l(){return{tasks:g.tasks,folders:g.folders,updateTasks:e=>{g.tasks=e,localStorage.setItem("tasks",JSON.stringify(e))},updateFolders:e=>{g.folders=e,localStorage.setItem("folders",JSON.stringify(e))}}}function S(e){const{tasks:s}=l(),n=s.filter(d=>d.id!==e);l().updateTasks(n)}function E(e,s){const{tasks:n}=l(),d=n.map(t=>t.id===e?{...t,...s}:t);l().updateTasks(d)}function $(e){const{folders:s,tasks:n}=l(),d=s.filter(o=>o!==e),t=n.filter(o=>o.folder!==e);l().updateFolders(d),l().updateTasks(t)}function F(e){l().updateTasks(e)}function q(e,s){const n=document.createElement("div");n.classList.add("bg-white","p-4","rounded-lg","flex","justify-between","items-center","shadow-sm","mb-2");const d=document.createElement("div");d.classList.add("flex","items-center","space-x-4","w-full");const t=document.createElement("input");t.type="checkbox",t.checked=e.completed,t.classList.add("form-checkbox","h-5","w-5","text-blue-600"),t.addEventListener("change",()=>{E(e.id,{completed:t.checked}),C(s)});const o=document.createElement("div");o.classList.add("flex-grow"),o.innerHTML=`
        <h3 class="font-semibold text-gray-800 ${e.completed?"line-through":""}">${e.title}</h3>
        <p class="text-sm text-gray-600">${e.description||"No description"}</p>
        <div class="flex items-center space-x-2 mt-1">
            <span class="text-xs ${Y(e.priority)}">${e.priority} Priority</span>
            <span class="text-xs text-gray-500">${e.dueDate||"No due date"}</span>
        </div>
    `;const c=document.createElement("div");c.classList.add("flex","space-x-2");const a=document.createElement("button");a.textContent="Edit",a.classList.add("bg-blue-500","text-white","px-2","py-1","rounded","text-sm"),a.addEventListener("click",()=>{document.querySelector("#content-page").appendChild(O(e,s))});const p=document.createElement("button");return p.textContent="Delete",p.classList.add("bg-red-500","text-white","px-2","py-1","rounded","text-sm"),p.addEventListener("click",()=>{confirm("Are you sure you want to delete this task?")&&(S(e.id),C(s))}),c.appendChild(a),c.appendChild(p),d.appendChild(t),d.appendChild(o),n.appendChild(d),n.appendChild(c),n}function C(e){const s=document.querySelector("#content-page");s.innerHTML="";const{tasks:n}=l(),d=document.createElement("div");d.id="content-title",d.innerHTML=`Tasks in ${e}`,d.classList.add("bg-rose-500");const t=document.createElement("div");t.id="content-header",t.classList.add("flex","gap-2","h-auto","bg-rose-200");const o=document.createElement("h3"),c=document.createElement("h3"),a=document.createElement("button");o.innerHTML=e,o.classList.add("bg-black","text-white","w-1/2","text-center","p-4","shadow-md","rounded-md","mb-4");const p=n.filter(i=>i.folder===e);c.innerHTML=`${p.length} tasks`,c.classList.add("bg-black","text-white","p-4","shadow-md","rounded-md","mb-4"),a.innerHTML="Add New +",a.classList.add("bg-black","text-white","p-4","shadow-md","rounded-md","mb-4"),a.addEventListener("click",()=>{s.appendChild(A(e))}),t.appendChild(o),t.appendChild(c),t.appendChild(a);const r=document.createElement("div");r.id="content-body-tasks",p.forEach(i=>{const u=q(i,e);r.appendChild(u)}),s.appendChild(d),s.appendChild(t),s.appendChild(r)}function A(e){const s=document.createElement("form"),n=document.createElement("dialog");n.classList.add("bg-rose-800","shadow-md","rounded-md","p-4");const d=document.createElement("input");d.placeholder="Task Title",d.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(d);const t=document.createElement("input");t.placeholder="Task Description",t.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(t);const o=document.createElement("input");o.type="date",o.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(o);const c=document.createElement("select");["High","Medium","Low"].forEach(i=>{const u=document.createElement("option");u.value=i,u.innerHTML=i,c.appendChild(u)}),c.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(c);const p=document.createElement("button");p.type="submit",p.innerHTML="Add Task",p.classList.add("bg-black","text-white","p-2","rounded-md","mt-2"),s.appendChild(p),s.addEventListener("submit",i=>{if(i.preventDefault(),!d.value||!t.value||!o.value){alert("All fields are required!");return}const{tasks:u}=l(),m={id:Date.now(),title:d.value,description:t.value,priority:c.value,dueDate:o.value,completed:!1,folder:e};l().updateTasks([...u,m]),C(e),n.close()});const r=document.createElement("button");return r.type="button",r.innerHTML="Cancel",r.classList.add("bg-red-500","text-white","p-2","rounded-md","mt-2","ml-2"),s.appendChild(r),n.appendChild(s),document.body.appendChild(n),n.showModal(),r.addEventListener("click",()=>{n.style.display="none"}),n}function O(e,s){const n=document.createElement("form"),d=document.createElement("dialog");d.classList.add("bg-rose-800","shadow-md","rounded-md","p-4");const t=document.createElement("input");t.placeholder="Task Title",t.value=e.title,t.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),n.appendChild(t);const o=document.createElement("input");o.placeholder="Task Description",o.value=e.description,o.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),n.appendChild(o);const c=document.createElement("input");c.type="date",c.value=e.dueDate,c.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),n.appendChild(c);const a=document.createElement("select");["High","Medium","Low"].forEach(b=>{const h=document.createElement("option");h.value=b,h.innerHTML=b,h.selected=e.priority===b,a.appendChild(h)}),a.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),n.appendChild(a);const r=document.createElement("input");r.type="checkbox",r.checked=e.completed;const i=document.createElement("label");i.appendChild(r),i.appendChild(document.createTextNode(" Completed")),i.classList.add("block","mb-2"),n.appendChild(i);const u=document.createElement("button");u.type="submit",u.innerHTML="Update Task",u.classList.add("bg-black","text-white","p-2","rounded-md","mt-2"),n.appendChild(u),n.addEventListener("submit",b=>{if(b.preventDefault(),!t.value||!o.value||!c.value){alert("All fields are required!");return}const h={title:t.value,description:o.value,priority:a.value,dueDate:c.value,completed:r.checked,folder:s};E(e.id,h),C(s),d.close()});const m=document.createElement("button");return m.type="button",m.innerHTML="Cancel",m.classList.add("bg-red-500","text-white","p-2","rounded-md","mt-2","ml-2"),n.appendChild(m),d.appendChild(n),document.body.appendChild(d),d.showModal(),m.addEventListener("click",()=>{d.style.display="none"}),d}function Y(e){switch(e.toLowerCase()){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}}function D(){const{tasks:e}=l();return e.filter(s=>s.priority.toLowerCase()==="high")}function x(){const e=document.querySelector("#content-page");e.innerHTML="";const s=D(),n=document.createElement("div");n.classList.add("p-6","bg-white","rounded-lg","shadow-md");const d=document.createElement("h1");if(d.classList.add("text-3xl","font-bold","text-red-600","mb-6","text-center"),d.textContent="High Priority Tasks",n.appendChild(d),s.length===0){const t=document.createElement("p");t.classList.add("text-center","text-gray-500"),t.textContent="No high priority tasks found.",n.appendChild(t)}else{const t=document.createElement("div");t.classList.add("space-y-4"),s.forEach(o=>{const c=J(o);t.appendChild(c)}),n.appendChild(t)}e.appendChild(n)}function J(e){const s=document.createElement("div");s.classList.add("bg-red-50","p-4","rounded-lg","flex","justify-between","items-center","shadow-sm");const n=document.createElement("div");n.classList.add("flex","items-center","space-x-4","w-full");const d=document.createElement("input");d.type="checkbox",d.checked=e.completed,d.classList.add("form-checkbox","h-5","w-5","text-red-600"),d.addEventListener("change",()=>{E(e.id,{completed:d.checked}),x()});const t=document.createElement("div");t.classList.add("flex-grow"),t.innerHTML=`
        <h3 class="font-semibold text-gray-800 ${e.completed?"line-through":""}">${e.title}</h3>
        <p class="text-sm text-gray-600">${e.description||"No description"}</p>
        <div class="flex items-center space-x-2 mt-1">
            <span class="text-xs text-red-600">High Priority</span>
            <span class="text-xs text-gray-500">${e.dueDate||"No due date"}</span>
        </div>
    `;const o=document.createElement("div");o.classList.add("flex","space-x-2");const c=document.createElement("button");c.textContent="Edit",c.classList.add("bg-blue-500","text-white","px-2","py-1","rounded","text-sm"),c.addEventListener("click",()=>{const p={title:prompt("Enter new task title:",e.title)||e.title,description:prompt("Enter new description:",e.description)||e.description,priority:"High",dueDate:prompt("Enter new due date (YYYY-MM-DD):",e.dueDate)||e.dueDate,completed:e.completed};E(e.id,p),x()});const a=document.createElement("button");return a.textContent="Delete",a.classList.add("bg-red-500","text-white","px-2","py-1","rounded","text-sm"),a.addEventListener("click",()=>{confirm("Are you sure you want to delete this task?")&&(S(e.id),x())}),o.appendChild(c),o.appendChild(a),n.appendChild(d),n.appendChild(t),s.appendChild(n),s.appendChild(o),s}function L(){const e=document.querySelector("#content-page");e.innerHTML="";const{tasks:s}=l(),n=document.createElement("div");n.classList.add("p-6","bg-white","rounded-lg","shadow-md");const d=document.createElement("div");d.classList.add("mb-6","text-center");const t=document.createElement("h1");t.classList.add("text-3xl","font-bold","text-green-600"),t.textContent="Welcome to Your Task Manager",d.appendChild(t);const o=document.createElement("div");o.classList.add("grid","grid-cols-3","gap-4","mb-6");const c=w("Total Tasks",s.length,"bg-blue-100","text-blue-600"),a=w("Completed Tasks",s.filter(f=>f.completed).length,"bg-green-100","text-green-600"),p=w("High Priority",D().length,"bg-red-100","text-red-600");o.appendChild(c),o.appendChild(a),o.appendChild(p);const r=document.createElement("div");r.classList.add("mt-6");const i=document.createElement("h2");i.classList.add("text-2xl","font-semibold","mb-4","text-gray-700"),i.textContent="Recent Tasks",r.appendChild(i),s.slice(-5).reverse().forEach(f=>{const T=j(f);r.appendChild(T)});const m=document.createElement("div");m.classList.add("grid","grid-cols-2","gap-4","mt-6");const b=I("Create New Task","bg-green-500",()=>{const f={id:Date.now(),title:prompt("Enter task title:"),description:prompt("Enter task description:"),priority:prompt("Enter priority (Low/Medium/High):"),dueDate:prompt("Enter due date (YYYY-MM-DD):"),completed:!1,folder:prompt("Enter folder name:")||"Default"};if(f.title){const{tasks:T}=l();l().updateTasks([...T,f]),L()}}),h=I("Manage Folders","bg-blue-500",()=>{document.getElementById("folders").click()});m.appendChild(b),m.appendChild(h),n.appendChild(d),n.appendChild(o),n.appendChild(r),n.appendChild(m),e.appendChild(n)}function w(e,s,n,d){const t=document.createElement("div");t.classList.add("p-4","rounded-lg","shadow-md","text-center",n);const o=document.createElement("p");o.classList.add("text-sm","font-semibold",d),o.textContent=e;const c=document.createElement("h2");return c.classList.add("text-2xl","font-bold",d),c.textContent=s,t.appendChild(o),t.appendChild(c),t}function j(e){const s=document.createElement("div");s.classList.add("bg-gray-100","p-4","rounded-lg","mb-2","flex","justify-between","items-center");const n=document.createElement("div");n.innerHTML=`
        <h3 class="font-semibold text-gray-800">${e.title}</h3>
        <p class="text-sm text-gray-600">${e.description||"No description"}</p>
        <span class="text-xs ${U(e.priority)}">${e.priority} Priority</span>
    `;const d=document.createElement("div");d.classList.add("flex","gap-2");const t=document.createElement("button");t.textContent="Edit",t.classList.add("bg-blue-500","text-white","px-2","py-1","rounded","text-sm"),t.addEventListener("click",()=>{document.querySelector("#content-page").appendChild(z(e))});const o=document.createElement("button");return o.textContent="Delete",o.classList.add("bg-red-500","text-white","px-2","py-1","rounded","text-sm"),o.addEventListener("click",()=>{confirm("Are you sure you want to delete this task?")&&(S(e.id),L())}),d.appendChild(t),d.appendChild(o),s.appendChild(n),s.appendChild(d),s}function U(e){switch(e.toLowerCase()){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}}function I(e,s,n){const d=document.createElement("button");return d.classList.add("p-3","rounded-lg","text-white","font-bold","hover:opacity-90","transition",s),d.textContent=e,d.addEventListener("click",n),d}function z(e){const s=document.createElement("form"),n=document.createElement("dialog");n.classList.add("bg-rose-800","shadow-md","rounded-md","p-4");const d=document.createElement("input");d.placeholder="Task Title",d.value=e.title,d.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(d);const t=document.createElement("input");t.placeholder="Task Description",t.value=e.description,t.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(t);const o=document.createElement("input");o.placeholder="Folder Name",o.value=e.folder,o.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(o);const c=document.createElement("input");c.type="date",c.value=e.dueDate,c.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(c);const a=document.createElement("select");["High","Medium","Low"].forEach(b=>{const h=document.createElement("option");h.value=b,h.innerHTML=b,h.selected=e.priority===b,a.appendChild(h)}),a.classList.add("block","p-2","mb-2","border","border-gray-300","rounded-md"),s.appendChild(a);const r=document.createElement("input");r.type="checkbox",r.checked=e.completed;const i=document.createElement("label");i.appendChild(r),i.appendChild(document.createTextNode(" Completed")),i.classList.add("block","mb-2"),s.appendChild(i);const u=document.createElement("button");u.type="submit",u.innerHTML="Update Task",u.classList.add("bg-black","text-white","p-2","rounded-md","mt-2"),s.appendChild(u),s.addEventListener("submit",b=>{if(b.preventDefault(),!d.value||!t.value||!o.value||!c.value){alert("All fields are required!");return}const h={title:d.value,description:t.value,folder:o.value,priority:a.value,dueDate:c.value,completed:r.checked};E(e.id,h),L(),n.close()});const m=document.createElement("button");return m.type="button",m.innerHTML="Cancel",m.classList.add("bg-red-500","text-white","p-2","rounded-md","mt-2","ml-2"),s.appendChild(m),n.appendChild(s),document.body.appendChild(n),n.showModal(),m.addEventListener("click",()=>{n.style.display="none"}),n}function M(e){const s=document.querySelector("#content-page");s.innerHTML="";const n=document.createElement("div");n.id="content-title",n.innerHTML="Folders",n.classList.add("bg-rose-500");const d=document.createElement("div");d.id="content-body-folder",e.forEach(t=>{const o=document.createElement("div");o.innerHTML=t,o.id="foldersElem",o.classList.add("folder-item","cursor-pointer","p-4","bg-green-200","rounded-md","m-2"),o.addEventListener("click",()=>{Tasks(t)}),d.appendChild(o)}),s.appendChild(n),s.appendChild(d)}let K=[],P=[];N(P,K);F(P);document.querySelector("#app");document.querySelector("#content-page");const y=document.getElementById("home"),v=document.querySelector("#high-priority"),k=document.querySelector("#folders"),B=document.getElementById("subFolders");function H(){const e=document.querySelector("#subFolders");e.innerHTML="";const{folders:s}=l();s.forEach(d=>{const t=document.createElement("div");t.classList.add("grid","justify-between","items-center");const o=document.createElement("a");o.id="folder",o.innerHTML=d,o.classList.add("block","text-white","p-4","hover:bg-whitesmoke","hover:text-red"),o.addEventListener("click",()=>{C(d)});const c=document.createElement("button");c.innerHTML="Delete",c.classList.add("text-red-500","ml-2"),c.addEventListener("click",()=>{confirm(`Are you sure you want to delete folder "${d}"?`)&&($(d),H(),M(l().folders),L())}),t.appendChild(o),t.appendChild(c),e.appendChild(t)});const n=document.createElement("button");n.innerHTML="Add Folder",n.id="addFolderBtn",n.addEventListener("click",()=>{const d=prompt("Enter folder name:");d&&(s.push(d),H(),M(l().folders))}),e.appendChild(n)}H();y.addEventListener("click",()=>{B.classList.add("showNot"),y.classList.add("active"),v.classList.remove("active"),k.classList.remove("active"),L()});v.addEventListener("click",()=>{B.classList.add("showNot"),y.classList.remove("active"),v.classList.add("active"),k.classList.remove("active"),x();const e=D();console.log(e)});k.addEventListener("click",()=>{B.classList.remove("showNot"),y.classList.remove("active"),v.classList.remove("active"),k.classList.add("active"),M(l().folders)});document.addEventListener("DOMContentLoaded",()=>{L()});
